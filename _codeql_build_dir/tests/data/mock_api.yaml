api_version: "1.0.0"
instrument:
  vendor: "MockVendor"
  model: "MockModel"
  identifier: "MockAPI"
  description: "Mock instrument for testing"

protocol:
  type: VISA

io:
  - name: voltage
    type: float
    role: input
    description: "Voltage value"
    unit: "V"
  - name: current
    type: float
    role: output
    description: "Measured current"
    unit: "A"
  - name: channel
    type: integer
    role: setting
    description: "Channel number"
  - name: message
    type: string
    role: output
    description: "Text message"
  - name: status
    type: boolean
    role: output
    description: "Status flag"
  - name: range
    type: float
    role: setting
    description: "Measurement range"
    unit: "V"
  - name: waveform
    type: array
    role: output
    description: "Array of measurements"
  - name: config_param1
    type: float
    role: setting
    description: "Configuration parameter 1"
  - name: config_param2
    type: string
    role: setting
    description: "Configuration parameter 2"
  - name: config_param3
    type: boolean
    role: setting
    description: "Configuration parameter 3"

commands:
  IDN:
    template: "*IDN?"
    description: "Identification query"
    parameters: []
    outputs: [message]

  ECHO:
    template: "ECHO"
    description: "Echo test"
    parameters: []
    outputs: [message]

  MEASURE:
    template: "MEAS:CURR?"
    description: "Measure current"
    parameters: []
    outputs: [current]

  SET:
    template: "SOUR:VOLT {voltage}"
    description: "Set voltage"
    parameters:
      - io: voltage
    outputs: []

  GET:
    template: "SOUR:VOLT?"
    description: "Get voltage setting"
    parameters: []
    outputs: [voltage]

  GET_DOUBLE:
    template: "GET:DOUBLE?"
    description: "Get double value"
    parameters: []
    outputs: [current]

  GET_STRING:
    template: "GET:STRING?"
    description: "Get string value"
    parameters: []
    outputs: [message]

  GET_BOOL:
    template: "GET:BOOL?"
    description: "Get boolean value"
    parameters: []
    outputs: [status]

  GET_ARRAY:
    template: "GET:ARRAY?"
    description: "Get array of values"
    parameters: []
    outputs: [waveform]

  SET_RANGE:
    template: "VOLT:RANG {range}"
    description: "Set measurement range"
    parameters:
      - io: range
    outputs: []

  GET_RANGE:
    template: "VOLT:RANG?"
    description: "Get measurement range"
    parameters: []
    outputs: [range]

  CONFIGURE:
    template: "CONF {config_param1},{config_param2},{config_param3}"
    description: "Configure instrument"
    parameters:
      - io: config_param1
      - io: config_param2
      - io: config_param3
    outputs: []

  RESET:
    template: "*RST"
    description: "Reset instrument"
    parameters: []
    outputs: []
